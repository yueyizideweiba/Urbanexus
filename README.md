# Urbanexus - 3D åŸå¸‚å¯è§†åŒ–å¹³å°

ä¸€ä¸ªåŸºäº Cesium å’Œ Vue 3 æ„å»ºçš„ç°ä»£åŒ– 3D åœ°ç†ç©ºé—´ä¿¡æ¯å¯è§†åŒ–ä¸åˆ†æå¹³å°ï¼Œæä¾›ä¸°å¯Œçš„åœ°å›¾äº¤äº’ã€ç©ºé—´åˆ†æå’Œæ•°æ®ç®¡ç†åŠŸèƒ½ã€‚

ğŸŒ **åœ¨çº¿è®¿é—®**ï¼š[http://114.215.206.64/](http://114.215.206.64/)

## âœ¨ ä¸»è¦ç‰¹æ€§

### ğŸ—ºï¸ æ ¸å¿ƒåŠŸèƒ½
- **3D åœºæ™¯å¯è§†åŒ–**ï¼šåŸºäº Cesium çš„é«˜æ€§èƒ½ 3D åœ°çƒæ¸²æŸ“
- **å¤šç§åº•å›¾æ”¯æŒ**ï¼šæ”¯æŒåœ°å½¢ã€å½±åƒç­‰å¤šç§åº•å›¾åˆ‡æ¢
- **å¤©ç©ºç›’ç³»ç»Ÿ**ï¼šæ”¯æŒå¤šç§å¤©ç©ºç›’æ•ˆæœï¼ˆè“å¤©ã€é˜´å¤©ã€æ—¥è½ç­‰ï¼‰
- **åæ ‡ç³»ç»Ÿ**ï¼šæ”¯æŒå¤šç§åæ ‡ç³»ç»Ÿè½¬æ¢

### ğŸ“ å‡ ä½•å·¥å…·
- **åŸºæœ¬è¦ç´ ç»˜åˆ¶**ï¼šç‚¹ã€çº¿ã€é¢ç­‰å‡ ä½•è¦ç´ ç»˜åˆ¶
- **è·ç¦»æµ‹é‡**ï¼šç²¾ç¡®æµ‹é‡ä¸¤ç‚¹é—´è·ç¦»
- **é¢ç§¯æµ‹é‡**ï¼šè®¡ç®—å¤šè¾¹å½¢åŒºåŸŸé¢ç§¯

### ğŸ” åœºæ™¯åˆ†æ
- **å»ºç­‘è§„åˆ’**ï¼š3D å»ºç­‘è§„åˆ’ä¸å¯è§†åŒ–
- **è·¯å¾„è§„åˆ’**ï¼šæœ€ä¼˜è·¯å¾„åˆ†æä¸è§„åˆ’
- **é€šè§†åˆ†æ**ï¼šè§†çº¿é®æŒ¡åˆ†æ
- **å¯è§†åŸŸåˆ†æ**ï¼šè§†é‡èŒƒå›´åˆ†æ
- **åœ°å½¢åˆ†æ**ï¼šåœ°å½¢ç‰¹å¾åˆ†æ
- **ç¼“å†²åŒºåˆ†æ**ï¼šç©ºé—´ç¼“å†²åŒºè®¡ç®—
- **æ¨¡å‹æ‹‰ä¼¸**ï¼š3D æ¨¡å‹é«˜åº¦æ‹‰ä¼¸
- **GeoJSON åˆ†è‰²**ï¼šåŸºäºå±æ€§çš„è¦ç´ åˆ†è‰²æ¸²æŸ“

### ğŸ® äº¤äº’åŠŸèƒ½
- **äººç‰©æ¼«æ¸¸**ï¼šç¬¬ä¸€äººç§°è§†è§’åœºæ™¯æ¼«æ¸¸
- **ç›¸æœºæ§åˆ¶**ï¼šçµæ´»çš„è§†è§’æ§åˆ¶ä¸é¢„è®¾è§†å›¾
- **è§†è§‰æ•ˆæœ**ï¼šé›¨ã€é›ªç­‰å¤©æ°”æ•ˆæœæ¨¡æ‹Ÿ

### ğŸ“Š æ•°æ®ç®¡ç†
- **æ•°æ®åŠ è½½**ï¼šæ”¯æŒå¤šç§æ ¼å¼æ•°æ®å¯¼å…¥ï¼ˆGLBã€GLTFã€3DTilesã€Shapefileã€GeoJSON ç­‰ï¼‰
- **å›¾å±‚ç®¡ç†**ï¼šå®Œæ•´çš„å›¾å±‚ç®¡ç†ç³»ç»Ÿ
- **å­˜å‚¨ç®¡ç†**ï¼šæ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ä¸ç®¡ç†
- **HTTP ç“¦ç‰‡åŠ è½½**ï¼šæ”¯æŒåœ¨çº¿ç“¦ç‰‡æœåŠ¡åŠ è½½

### ğŸ‘¥ ç”¨æˆ·ç³»ç»Ÿ
- **ç”¨æˆ·è®¤è¯**ï¼šæ³¨å†Œã€ç™»å½•åŠŸèƒ½
- **æƒé™ç®¡ç†**ï¼šåŸºäºè§’è‰²çš„åŠŸèƒ½è®¿é—®æ§åˆ¶
- **ç”¨æˆ·ç®¡ç†**ï¼šç”¨æˆ·ä¿¡æ¯ç®¡ç†

### ğŸ¨ ç•Œé¢ç‰¹æ€§
- **å“åº”å¼è®¾è®¡**ï¼šé€‚é…ä¸åŒå±å¹•å°ºå¯¸
- **ä¸»é¢˜åˆ‡æ¢**ï¼šæ”¯æŒæ˜æš—ä¸»é¢˜åˆ‡æ¢
- **å¯æŠ˜å ä¾§è¾¹æ **ï¼šçµæ´»çš„å·¥å…·é¢æ¿å¸ƒå±€
- **åæ ‡æ˜¾ç¤º**ï¼šå®æ—¶æ˜¾ç¤ºé¼ æ ‡ä½ç½®åæ ‡

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **Vue 3** - æ¸è¿›å¼ JavaScript æ¡†æ¶
- **Cesium** - 3D åœ°çƒå’Œåœ°å›¾å¼•æ“
- **Vite** - ä¸‹ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·
- **Element Plus** - Vue 3 UI ç»„ä»¶åº“
- **Three.js** - 3D å›¾å½¢åº“
- **Turf.js** - ç©ºé—´åˆ†æåº“
- **Axios** - HTTP å®¢æˆ·ç«¯

### åç«¯
- **Node.js** - JavaScript è¿è¡Œæ—¶
- **Express** - Web åº”ç”¨æ¡†æ¶
- **PostgreSQL** - å…³ç³»å‹æ•°æ®åº“
- **JWT** - èº«ä»½è®¤è¯
- **Multer** - æ–‡ä»¶ä¸Šä¼ å¤„ç†
- **bcryptjs** - å¯†ç åŠ å¯†

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
Urbanexus/
â”œâ”€â”€ src/                    # å‰ç«¯æºä»£ç 
â”‚   â”œâ”€â”€ components/         # Vue ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ AnalysisModals.vue      # åˆ†ææ¨¡æ€æ¡†
â”‚   â”‚   â”œâ”€â”€ BuildingPlanningEnhanced.vue  # å»ºç­‘è§„åˆ’
â”‚   â”‚   â”œâ”€â”€ CharacterExplorer.vue   # äººç‰©æ¼«æ¸¸
â”‚   â”‚   â”œâ”€â”€ DataLoader.vue          # æ•°æ®åŠ è½½å™¨
â”‚   â”‚   â”œâ”€â”€ GeometryTools.vue       # å‡ ä½•å·¥å…·
â”‚   â”‚   â”œâ”€â”€ LayerManager.vue        # å›¾å±‚ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ Navbar.vue              # å¯¼èˆªæ 
â”‚   â”‚   â””â”€â”€ ...                     # å…¶ä»–ç»„ä»¶
â”‚   â”œâ”€â”€ services/          # API æœåŠ¡
â”‚   â”œâ”€â”€ config.js          # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ App.vue            # ä¸»åº”ç”¨ç»„ä»¶
â”œâ”€â”€ backend/               # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ controllers/       # æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ models/           # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ routes/           # è·¯ç”±å®šä¹‰
â”‚   â”œâ”€â”€ middleware/       # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ config/           # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ server.js         # æœåŠ¡å™¨å…¥å£
â”œâ”€â”€ public/               # é™æ€èµ„æº
â”‚   â”œâ”€â”€ skybox/          # å¤©ç©ºç›’èµ„æº
â”‚   â””â”€â”€ assets/          # å…¶ä»–èµ„æº
â””â”€â”€ dist/                # æ„å»ºè¾“å‡º

```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 16.0.0
- PostgreSQL >= 12.0
- npm æˆ– pnpm

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd Urbanexus
```

2. **å®‰è£…å‰ç«¯ä¾èµ–**
```bash
npm install
# æˆ–
pnpm install
```

3. **å®‰è£…åç«¯ä¾èµ–**
```bash
cd backend
npm install
```

4. **é…ç½®æ•°æ®åº“**
   - åˆ›å»º PostgreSQL æ•°æ®åº“
   - åœ¨ `backend` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼š
```env
PORT=3000
DB_HOST=localhost
DB_PORT=5432
DB_NAME=urbanexus
DB_USER=your_username
DB_PASSWORD=your_password
JWT_SECRET=your_jwt_secret
```

5. **åˆå§‹åŒ–æ•°æ®åº“**
```bash
cd backend
npm run init-db
```

6. **å¯åŠ¨åç«¯æœåŠ¡**
```bash
cd backend
npm start
# æˆ–å¼€å‘æ¨¡å¼
npm run dev
```

7. **å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨**
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
npm run dev
```

8. **è®¿é—®åº”ç”¨**
   - å‰ç«¯ï¼šhttp://localhost:5173
   - åç«¯ APIï¼šhttp://localhost:3000

## ğŸ“ æ„å»ºéƒ¨ç½²

### åœ¨çº¿æ¼”ç¤º
é¡¹ç›®å·²éƒ¨ç½²å¹¶å¯åœ¨ä»¥ä¸‹åœ°å€è®¿é—®ï¼š
- **ç”Ÿäº§ç¯å¢ƒ**ï¼š[http://114.215.206.64/](http://114.215.206.64/)

### æ„å»ºå‰ç«¯
```bash
npm run build
```

æ„å»ºäº§ç‰©å°†è¾“å‡ºåˆ° `dist` ç›®å½•ã€‚

### é¢„è§ˆæ„å»ºç»“æœ
```bash
npm run preview
```

## ğŸ”§ é…ç½®è¯´æ˜

### å‰ç«¯é…ç½®
ç¼–è¾‘ `src/config.js` ä¿®æ”¹åç«¯ API åœ°å€å’Œå…¶ä»–é…ç½®ï¼š

```javascript
export const backendConfig = {
  apiBaseUrl: 'http://your-backend-url/api',
  serverUrl: 'http://your-backend-url',
  timeout: 10000
};
```

### åç«¯é…ç½®
åœ¨ `backend/.env` æ–‡ä»¶ä¸­é…ç½®æ•°æ®åº“è¿æ¥å’Œå…¶ä»–ç¯å¢ƒå˜é‡ã€‚

## ğŸ“š ä¸»è¦åŠŸèƒ½ä½¿ç”¨

### æ•°æ®åŠ è½½
1. ç‚¹å‡»å¯¼èˆªæ çš„"æ•°æ®åŠ è½½"æŒ‰é’®
2. é€‰æ‹©è¦åŠ è½½çš„æ•°æ®ç±»å‹ï¼ˆGLBã€3DTilesã€Shapefile ç­‰ï¼‰
3. ä¸Šä¼ æ–‡ä»¶æˆ–è¾“å…¥ URL
4. æ•°æ®å°†è‡ªåŠ¨åŠ è½½åˆ°åœºæ™¯ä¸­

### åœºæ™¯åˆ†æ
1. æ‰“å¼€å·¦ä¾§å·¥å…·æ 
2. é€‰æ‹©ç›¸åº”çš„åˆ†æå·¥å…·
3. æŒ‰ç…§æç¤ºåœ¨åœºæ™¯ä¸­è¿›è¡Œäº¤äº’æ“ä½œ
4. æŸ¥çœ‹åˆ†æç»“æœ

### å›¾å±‚ç®¡ç†
1. ç‚¹å‡»"å›¾å±‚ç®¡ç†"æŒ‰é’®
2. æŸ¥çœ‹å½“å‰æ‰€æœ‰å›¾å±‚
3. å¯ä»¥æ§åˆ¶å›¾å±‚çš„æ˜¾ç¤º/éšè—ã€é€æ˜åº¦ç­‰
4. æ”¯æŒå›¾å±‚çš„åˆ é™¤å’Œå¯¼å‡º

### ç”¨æˆ·ç³»ç»Ÿ
- **æ³¨å†Œ**ï¼šç‚¹å‡»å¯¼èˆªæ çš„"æ³¨å†Œ"æŒ‰é’®åˆ›å»ºæ–°è´¦æˆ·
- **ç™»å½•**ï¼šä½¿ç”¨æ³¨å†Œçš„è´¦æˆ·ç™»å½•
- **æƒé™**ï¼šéƒ¨åˆ†é«˜çº§åŠŸèƒ½éœ€è¦ç™»å½•åä½¿ç”¨
